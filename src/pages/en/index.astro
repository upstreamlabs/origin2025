---
import Layout from "layouts/Layout.astro";
import Hero from "components/Hero.astro";
import Intro from "components/Intro.astro";
import FeatureSpotlight from "components/FeatureSpotlight.astro";
import ProgramTimeline from "components/ProgramTimeline.astro";
import SupportShowcase from "components/SupportShowcase.astro";
import Cards from "components/Cards.astro";
import Statistics from "components/Statistics.astro";
import Button from "components/Button.astro";
import TextAndImageSimple from "components/TextAndImageSimple.astro";
import projectSpotlightsData from "../../data/upstream-projects.json";

import statOnline from "images/upstream/stat-online.png";
import statOffline from "images/upstream/stat-offline.png";
import statGrant from "images/upstream/stat-grant.png";

const heroLinks = [
  {
    text: "Apply Now",
    link: "#apply",
  },
  {
    text: "Explore the Program",
    link: "#program",
  },
];

const heroHighlights = [
  "Learn the Core: Immerse yourself in open-source principles and the civic value of public goods.",
  "AI-Driven Growth: Harness AI to build community influence and powerful content ecosystems.",
  "Real-World Impact: Co-design sustainable growth strategies for active open-source projects.",
  "Ecosystem Support: Top solutions receive funding, mentorship, and resources to bring public goods to life.",
  "4 weeks online + 5 days in-person. We're looking for the next generation of open-source co-builders.",
];

const objectives = [
  {
    title: "Spread Open Culture",
    description:
      "Build shared understanding of open-source principles, governance models, and public goods.",
    image: "ri:open-source-line",
  },
  {
    title: "Grow Ecosystem Talent",
    description:
      "Equip community organizers and storytellers with the skills to sustain open ecosystems.",
    image: "game-icons:compass",
  },
  {
    title: "Connect Cross-Sector Partners",
    description:
      "Bridge government, industry, and community resources to support long-term public goods.",
    image: "/icons/collaboration.svg",
  },
];

const stats = [
  {
    title: "4",
    suffix: " Weeks",
    subtitle: "Comprehensive online training in open-source ecosystems and business skills with remote mentorship",
    image: statOnline,
    imageAlt: "Abstract wave showing continuous learning",
  },
  {
    title: "100",
    suffix: "K RMB",
    subtitle: "Upstream Ecosystem Development Grant (100K RMB) and mentorship services",
    image: statGrant,
    imageAlt: "Radiant arc symbolizing catalytic funding",
  },
  {
    title: "5",
    suffix: " Days",
    subtitle: "Immersive partner collaboration and mentored co-creation camp",
    image: statOffline,
    imageAlt: "Golden beam representing in-person collaboration",
  },
];

const stageOverviewCards = [
  {
    title: "Base Camp · Online Training",
    description:
      "Four-week remote program featuring weekly live sessions, peer studios, and guided assignments that culminate in a sustainable ecosystem action plan.",
    image: "streamline-logos:basecamp-logo-1",
  },
  {
    title: "Ascend Camp · Immersive Bootcamp",
    description:
      "Five-day residency in Beijing combining project pairing, governance design sprints, storytelling labs, and final showcases.",
    image: "streamline:money-graph-arrow-increase-ascend-growth-up-arrow-stats-graph-right-grow",
  },
  {
    title: "Summit Camp · Real-world Challenge",
    description:
      "Top-performing teams receive funding and are paired with open-source project teams for a 6-month collaborative development program. Projects will be showcased at the next Upstream event.",
    image: "streamline-sharp:summit",
  },
];

const stageOneTimeline = [
  {
    label: "Week One",
    title: "Open Source Launchpad — Values, Governance & Technical Foundations",
    text:
      "<strong>Course:</strong> Trace open-source history and values, unpack major license compliance, architect contributor journeys and governance frameworks, and practice Git/GitHub collaboration with CI/CD pipelines to anchor technical workflows.<br />\n<strong>Goal:</strong> Grasp the underlying logic of open ecosystems and confidently run an end-to-end technical collaboration process for an open-source project.",
  },
  {
    label: "Week Two",
    title: "AI-driven Product Growth & Community Operations",
    text:
      "<strong>Course:</strong> Blend product management mindset with multi-platform community strategies; learn AI coding tools (including Vibe Coding) for rapid site builds, and deploy AIGC workflows to ship full-funnel marketing assets.<br />\n<strong>Goal:</strong> Launch a project microsite quickly and orchestrate a complete marketing and community operation stack powered by AI.",
  },
  {
    label: "Week Three",
    title: "Sustainable Growth — Business Models & AI Content Strategy",
    text:
      "<strong>Course:</strong> Reimagine public-service business models through SaaS case studies, AARRR metrics, and growth hacks; design conversion funnels and partner communication, while building AI-driven content matrices from copy to video for long-term traction.<br />\n<strong>Goal:</strong> Map a clear, sustainable commercialization pathway and produce high-quality multimedia storytelling with AI.",
  },
  {
    label: "Week Four",
    title: "Project Pairing & Final Showcase",
    text:
      "<strong>Course:</strong> Select a live open-source project, architect product, growth, and business strategies, and culminate in an online demo to project partners to earn residency spots.<br />\n<strong>Goal:</strong> Deliver a comprehensive solution covering product design, ecosystem growth, and business pathways tailored to a real project.",
  },
];

const stageTwoTimeline = [
  {
    label: "Day One",
    title: "Inception",
    text: "Kick off onsite, meet mentors, align on shared purpose, and match teams with open-source projects.",
  },
  {
    label: "Day Two",
    title: "Alignment",
    text: "Co-create goals, map community rituals, and strengthen collaborative culture across partner organizations.",
  },
  {
    label: "Day Three",
    title: "Co-creation",
    text: "Design ecosystem strategies with mentor guidance on governance, engagement, and long-term sustainability.",
  },
  {
    label: "Day Four",
    title: "Amplify",
    text: "Prototype communication assets, run AIGC storytelling sprints, and polish demos for public launch.",
  },
  {
    label: "Day Five",
    title: "Showcase",
    text: "Present ecosystem roadmaps, gather cross-sector feedback, and celebrate outstanding collaborations.",
  },
];

const mentorshipCards = [
  {
    title: "Academic Mentors",
    description: "Professors and researchers guiding theoretical framing and cultural grounding.",
    image: "uil:university",
  },
  {
    title: "Community Mentors",
    description: "Maintainers and community builders sharing operational best practices.",
    image: "fluent:people-community-28-regular",
  },
  {
    title: "Industry Mentors",
    description: "OSPO leads and open-source strategists contributing enterprise experience.",
    image: "carbon:network-enterprise",
  },
  {
    title: "Government & Incubators",
    description: "Policy partners offering pilot spaces, regulatory insights, and local resources.",
    image: "game-icons:incubator",
  },
  {
    title: "Investment Partners",
    description: "Impact funds and sustainable capital linking long-term financial and ecosystem support.",
    image: "streamline:investment-selection",
  },
];

const projectSpotlights = projectSpotlightsData;
---

<Layout
  title="源起之道｜Upstream 2025"
  description="Upstream 2025 blends a four-week online camp and a five-day Beijing innovation residency to grow sustainable open-source ecosystems across public and civic sectors."
  navDarkMode={true}
  navBackground="header-home"
  pageTransitionName="Upstream 2025"
>
  <Hero
    title="源起之道｜Upstream 2025"
    quote='"Where every push returns to the source, and every source renews the world."'
    description="Upstream unites partners to build a sustainable open-source ecosystem, rooted in the spirit of open collaboration and focused on public goods."
    backgroundImage="/images/upstream/hero-flow.svg"
    backgroundAlt="Flowing gradient abstract background for Upstream"
    highlights={heroHighlights}
    links={heroLinks}
    tagline="溯本铸源，万变更新 | Upstream to origin, All commits return"
  />


  <FeatureSpotlight
    id="overview"
    title="Open Collaboration as Public Goods Infrastructure"
    text="Upstream is a learning-and-doing platform devoted to sustainable open-source ecosystems. Participants deepen their understanding of community governance, civic value, and ecosystem storytelling while co-creating real projects that activate public impact."
    image="/images/upstream/infra.png"
    imageAlt="Flowing gradient artwork highlighting open-source collaboration"
    theme="light"
    background="lightgray"
  />

  <FeatureSpotlight
    id="philosophy"
    title="Core Philosophy"
    text="Upstream is rooted in open-source spirit and centered on public goods. Commercial momentum is never the destination—it is the sustaining force that preserves trust, vitality, and shared stewardship across the ecosystem. Upstream believes open source is more than a technical pathway—it is a collaborative civic culture that cultivates trust, shared value, and long-term sustainability so collective innovation can power a shared future."
    image="/images/upstream/flow-core.png"
    imageAlt="Gradient square illustrating the Flow of Source concept"
    imagePosition="left"
    theme="light"
    background="light"
  />

  <Cards
    id="objectives"
    title="Program Objectives"
    description="A two-stage journey that equips teams to steward open ecosystems across governance, sustainability, and storytelling."
    cards={objectives}
    theme="light"
    background="lightgray"
  />

  <Statistics
    id="metrics"
    stats={stats}
    theme="light"
    background="light"
  />

  <Cards
    id="program"
    title="Two-Phase Program Structure"
    description="Participants move from online foundations to hands-on co-creation, building momentum that carries through launch, mentorship, and long-term implementation."
    cards={stageOverviewCards}
    theme="light"
    background="lightgray"
  />

  <ProgramTimeline
    id="phase-one"
    title="Base Camp · Online Training"
    items={stageOneTimeline}
    theme="light"
    background="light"
  />

  <ProgramTimeline
    id="phase-two"
    title="Ascend Camp · Immersive Bootcamp"
    items={stageTwoTimeline}
    theme="light"
    background="lightgray"
    variant="residency"
  />

  <Cards
    id="mentors"
    title="Mentorship & Support Network"
    description="An ecosystem of mentors ensures every team receives strategic, operational, and creative guidance from multiple vantage points."
    cards={mentorshipCards}
    theme="light"
    background="light"
  />

  <section class="section project-intro" id="projects" data-theme-section="dark" data-bg-section="primary">
    <div class="container">
      <div class="row">
        <div class="col">
          <p class="eyebrow">Upstream 2025 Winter Camp Projects</p>
          <h2 class="custom3">2025 Residency Cohort</h2>
          <p class="lead">
            From intelligent agent protocols and sovereign comms stacks to robotics operating systems,
            these collaborators will co-design governance, storytelling, and sustainable growth paths throughout the Upstream residency.
          </p>
        </div>
      </div>
    </div>
  </section>

  {projectSpotlights.map((project, index) => (
    <TextAndImageSimple
      id={project.id}
      title={project.name}
      text={project.description}
      image={project.images}
      imageAlt={project.imageAlt}
      textAlign={index % 2 ? 'right' : 'left'}
      theme="dark"
      background="dark"
      backgroundSvg={project.background}
      pdfLink={project.pdf}
      githubLinks={project.github}
      logoScale={project.logoScale}
    />
  ))}

  <SupportShowcase
    id="support"
    title="Outcomes & Support"
    highlight="Teams that complete the innovation camp and deliver their showcase become eligible for a RMB 100,000 grant dedicated to growing sustainable open collaboration."
    amount="100,000"
    amountNote="Upstream Ecosystem Development Grant"
    sections={[
      {
        title: "Ecosystem Grant Focus",
        bullets: [
          "Community & Contributor Programs",
          "Content & Storytelling",
          "Partnerships & Events",
          "Governance & Framework Design",
        ],
      },
      {
        title: "Long-term Support",
        bullets: [
          "6-month Upstream Mentorship Program with tailored guidance",
          "Inclusion in the Upstream Knowledge Network of open case studies",
          "Access to government incubation partners for space, policy, and funding support",
        ],
      },
    ]}
    theme="light"
    background="lightgray"
  />

  <section class="section section-apply" id="apply" data-theme-section="dark" data-bg-section="dark">
    <div class="container">
      <div class="row">
        <div class="col">
          <h2 class="custom3">Join Upstream 2025</h2>
          <p class="apply-motto">
            一切创新，皆由溯本而生；一切变革，皆因回归而新。<br>
            Where every push returns to the source, and every source renews the world.
          </p>
          <p>
            Tell us about your community, public service project, or civic innovation idea. We welcome teams eager to build sustainable open-source impact across sectors.
          </p>
          <div class="apply-actions">
            <Button
              text="Submit Your Team"
              link="https://airtable.com/apply-upstream-ignite"
              openInNewTab={true}
              class="btn primary xl btn-hover"
            />
            <Button
              text="Become a Mentor"
              link="mailto:origin@upstreamlabs.org"
              openInNewTab={false}
              class="btn outline btn-hover xl"
            />
          </div>
        </div>
      </div>
    </div>
  </section>

</Layout>

<style>
  .lead {
    font-size: 1.2rem;
    line-height: 1.7;
  }

  .section-apply {
    text-align: left;
    background: linear-gradient(135deg, rgba(43, 116, 255, 0.92), rgba(255, 198, 64, 0.88));
  }

  .section-apply p {
    max-width: 640px;
    font-size: 1.1rem;
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.88);
  }

  .apply-motto {
    font-family: 'Zhuque Fangsong', serif;
    font-size: 1.3rem;
    line-height: 1.8;
    margin-bottom: 2rem;
    font-weight: 400;
    color: rgba(255, 255, 255, 0.95);
  }

  .apply-motto .separator {
    margin: 0 0.75rem;
    opacity: 0.6;
  }

  .apply-actions {
    margin-top: 2rem;
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
  }

  .apply-actions .btn.primary span {
    color: #ffffff !important;
  }

  .project-intro {
    background: linear-gradient(135deg, rgba(88, 140, 255, 0.25), rgba(255, 204, 130, 0.25));
    color: #111421;
  }

  .project-intro .eyebrow {
    text-transform: uppercase;
    letter-spacing: 0.2em;
    font-size: 0.85rem;
    color: rgba(17, 20, 33, 0.6);
    margin-bottom: 0.5rem;
  }

  .project-intro h2 {
    color: #111421;
    margin-bottom: 1rem;
  }

  .project-intro .lead {
    color: rgba(17, 20, 33, 0.8);
  }

  @media (max-width: 768px) {
    .lead {
      font-size: 1.05rem;
    }
  }

  #overview.feature-spotlight .feature-media {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: clamp(1rem, 3vw, 2rem);
    background: linear-gradient(135deg, rgba(88, 140, 255, 0.18) 0%, rgba(150, 190, 255, 0.12) 50%, rgba(255, 204, 130, 0.18) 100%);
    border-radius: 28px;
  }

  #overview.feature-spotlight .feature-media::before {
    display: none;
  }

  #overview.feature-spotlight .feature-media img {
    border-radius: 26px;
    mask-image: radial-gradient(circle at center, rgba(0, 0, 0, 1) 58%, rgba(0, 0, 0, 0) 98%);
    -webkit-mask-image: radial-gradient(circle at center, rgba(0, 0, 0, 1) 58%, rgba(0, 0, 0, 0) 98%);
    mask-size: 125% 125%;
    -webkit-mask-size: 125% 125%;
    mask-position: center;
    -webkit-mask-position: center;
    background-color: transparent;
  }

  #philosophy.feature-spotlight {
    background: linear-gradient(135deg, rgba(88, 140, 255, 0.95) 0%, rgba(150, 190, 255, 0.82) 48%, rgba(255, 204, 130, 0.8) 100%);
  }

  #philosophy.feature-spotlight .feature-backdrop {
    background: none;
  }

  #philosophy.feature-spotlight .feature-media {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: clamp(1rem, 3vw, 2rem);
    background: linear-gradient(135deg, rgba(40, 90, 220, 0.18) 0%, rgba(96, 140, 255, 0.14) 50%, rgba(255, 196, 120, 0.22) 100%);
    border-radius: 28px;
  }

  #philosophy.feature-spotlight .feature-media::before {
    display: none;
  }

  #philosophy.feature-spotlight .feature-media img {
    border-radius: 26px;
    mask-image: radial-gradient(circle at center, rgba(0, 0, 0, 1) 58%, rgba(0, 0, 0, 0) 98%);
    -webkit-mask-image: radial-gradient(circle at center, rgba(0, 0, 0, 1) 58%, rgba(0, 0, 0, 0) 98%);
    mask-size: 125% 125%;
    -webkit-mask-size: 125% 125%;
    mask-position: center;
    -webkit-mask-position: center;
    background-color: transparent;
  }

  #philosophy.feature-spotlight .feature-copy h2 {
    color: rgba(13, 28, 58, 0.92);
  }

  #philosophy.feature-spotlight .feature-copy p {
    color: rgba(13, 28, 58, 0.78);
  }
</style>
